{% extends 'layout.html' %}
{% block content %}
<div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem;">
  <h2>Your Teams</h2>
  <div>
    <a class="btn" href="/teams?all={% if include_external %}0{% else %}1{% endif %}">
      {% if include_external %}Hide{% else %}Show{% endif %} external
    </a>
    <a class="btn primary" href="/teams/new" style="margin-left:.5rem">New team</a>
  </div>
</div>

<table>
  <thead>
    <tr>
      <th>Logo</th>
      <th>Name</th>
      <th>Record</th>
      <th>GF/GA</th>
      <th>Pts</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for t in teams %}
      <tr>
        <td style="width:56px;">
          {% if t.logo_path %}
            <img src="/media/team_logo/{{ t.id }}" alt="logo" style="width:40px;height:40px;border-radius:6px;object-fit:cover;" />
          {% else %}
            <span class="muted">â€”</span>
          {% endif %}
        </td>
        <td><a class="btn secondary" href="/teams/{{ t.id }}">{{ t.name }}</a>{% if t.is_external %} <span class="muted" title="Opponent/team not owned">(external)</span>{% endif %}</td>
        <td>{{ t.stats.wins }}-{{ t.stats.losses }}-{{ t.stats.ties }}</td>
        <td>{{ t.stats.gf }}/{{ t.stats.ga }}</td>
        <td>{{ t.stats.points }}</td>
        <td><a class="btn" href="/teams/{{ t.id }}/edit">Edit</a></td>
      </tr>
    {% empty %}
      <tr><td colspan="6" class="muted">No teams yet.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
