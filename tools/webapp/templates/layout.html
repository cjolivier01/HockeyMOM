<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HM WebApp</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 2rem; }
    header { margin-bottom: 1rem; }
    nav a { margin-right: 1rem; }
    .flash { padding: 0.5rem 0.75rem; margin: 0.5rem 0; border-radius: 4px; }
    .flash.error { background: #ffe0e0; }
    .flash.success { background: #e0ffe6; }
    form { margin: 1rem 0; }
    input[type=text], input[type=password], input[type=email] { padding: 0.5rem; width: 20rem; }
    button { padding: 0.5rem 0.75rem; }
    table { border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #ddd; padding: 0.5rem; }
  </style>
  {% block head %}{% endblock %}
  </head>
<body>
  <header>
    <nav>
      <a href="/">Home</a>
      {% if session.get('user_id') %}
        <a href="/games">Games</a>
        <a href="/logout">Logout</a>
        <span>Logged in as {{ session.get('user_email') }}</span>
      {% else %}
        <a href="/login">Login</a>
        <a href="/register">Register</a>
      {% endif %}
    </nav>
  </header>
  {% for m in get_flashed_messages(category_filter=['error']) %}
    <div class="flash error">{{ m }}</div>
  {% endfor %}
  {% for m in get_flashed_messages(category_filter=['success']) %}
    <div class="flash success">{{ m }}</div>
  {% endfor %}
  {% block content %}{% endblock %}
</body>
</html>

